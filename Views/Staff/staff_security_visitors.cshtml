@{
    ViewData["Title"] = "Staff Security & Visitors Management";
}

<head>
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="~/css/staff_security_visitors.css" asp-append-version="true">
    <link rel="stylesheet" href="~/css/dashboard.css" asp-append-version="true">
</head>

<title>Staff Security & Visitors Management</title>
<body>
    <!-- SIDEBAR -->
    <section id="sidebar">
		<a href="#" class="brand">
			<i class='bx bxs-smile'></i>
			<span class="text">Staff</span>
		</a>
		<ul class="side-menu top">
			<li>
				<a asp-area="" asp-controller="Staff" asp-action="Dashboard">
					<i class='bx bxs-dashboard'></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-user'></i>
					<span class="text">Profile</span>
				</a>
			</li>
			<li>
				<a asp-action="Announcements" asp-controller="Staff">
					<i class='bx bxs-megaphone'></i>
					<span class="text">Announcement</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-credit-card-front'></i>
					<span class="text">Payment and Billing</span>
				</a>
			</li>
			<li>
				<a asp-area="" asp-controller="Staff" asp-action="staff_services">
					<i class='bx bxs-briefcase'></i>
					<span class="text">Services</span>
				</a>
			</li>
            <li>
				<a asp-area="" asp-controller="Staff" asp-action="staff_community_forum">
					<i class='bx bxs-message-square-dots'></i>
					<span class="text">Community Forum</span>
				</a>
			</li>
			<li class="active">
				<a asp-area="" asp-controller="Staff" asp-action="staff_security_visitors">
					<i class='bx bxs-shield-alt-2'></i>
					<span class="text">Security and Visitors</span>
				</a>
			</li>
			<li>
                <a asp-area="" asp-controller="Staff" asp-action="staff_contact_and_support">
                    <i class='bx bx-support'></i>
                    <span class="text">Contact and Support</span>
                </a>
            </li>
		</ul>
		<ul class="side-menu">
			<li>
				<a href="#">
					<i class='bx bxs-cog'></i>
					<span class="text">Settings</span>
				</a>
			</li>
			<li>
				<a asp-action="logout" class="logout">
                    <i class='bx bxs-log-out-circle'></i>
                    <span class="text">Logout</span>
                </a>
			</li>
		</ul>
	</section>
    <!-- SIDEBAR -->

    <!-- CONTENT -->
    <section id="content">
        <!-- NAVBAR -->
        <nav>
			<i class='bx bx-menu'></i>
			<form action="#">
				<div class="form-input">
					<input type="search" placeholder="Search...">
					<button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
				</div>
			</form>
			<input type="checkbox" id="switch-mode" hidden>
			<label for="switch-mode" class="switch-mode"></label>
		</nav>
        <!-- NAVBAR -->

        <!-- MAIN -->
        <main>
            <div class="head-title">
                <div class="left">
                    <h1>Security and Visitors Management</h1>
                    <ul class="breadcrumb">
                        <li>
                            <a asp-area="" asp-controller="Staff" asp-action="Dashboard">Home</a>
                        </li>
                        <li><i class='bx bx-chevron-right'></i></li>
                        <li>
                            <a class="active" asp-area="" asp-controller="Staff" asp-action="staff_security_visitors">Security and Visitors</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="security-section">
                <!-- VISITOR PASS MANAGEMENT -->
                <div class="security-card">
                    <h2><i class='bx bx-user-check'></i>Visitor Pass Management</h2>
                    <div class="requests-container">
                        <h3>Pending Visitor Pass Requests</h3>
                        <div class="visitor-list">
                            <div class="list-item">
                                <div class="request-info">
                                    <span class="visitor-name">Alexa de Luna</span>
                                    <span class="visit-date">2025-03-15</span>
                                    <span class="visit-purpose">Family Visit</span>
                                </div>
                                <div class="action-buttons">
                                    <button class="btn-approve"><i class='bx bx-check'></i> Approve</button>
                                    <button class="btn-reject"><i class='bx bx-x'></i> Reject</button>
                                </div>
                            </div>
                            <div class="list-item">
                                <div class="request-info">
                                    <span class="visitor-name">John Loui</span>
                                    <span class="visit-date">2025-03-16</span>
                                    <span class="visit-purpose">Service Provider</span>
                                </div>
                                <div class="action-buttons">
                                    <button class="btn-approve"><i class='bx bx-check'></i> Approve</button>
                                    <button class="btn-reject"><i class='bx bx-x'></i> Reject</button>
                                </div>
                            </div>
                        </div>

                        <h3>Approved Visitor Passes</h3>
                        <div class="visitor-list">
                            <div class="list-item">
                                <div class="request-info">
                                    <span class="visitor-name">JC Hontiveros</span>
                                    <span class="visit-date">2025-03-14</span>
                                    <span class="visit-purpose">Business Meeting</span>
                                </div>
                                <div class="action-buttons">
                                    <button class="btn-revoke"><i class='bx bx-block'></i> Revoke</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- VISITOR EXIT MANAGEMENT -->
                <div class="security-card">
                    <h2><i class='bx bx-log-out'></i>Visitor Exit Management</h2>
                    <div class="requests-container">
                        <h3>Active Visitors</h3>
                        <div class="visitor-list">
                            <div class="list-item">
                                <div class="request-info">
                                    <span class="visitor-name">JC Hontiveros</span>
                                    <span class="visit-time">Entered: 14:30</span>
                                    <span class="visit-purpose">Business Meeting</span>
                                </div>
                                <div class="action-buttons">
                                    <button class="btn-exit"><i class='bx bx-log-out'></i> Record Exit</button>
                                </div>
                            </div>
                        </div>

                        <h3>Today's Exits</h3>
                        <div class="visitor-list">
                            <div class="list-item">
                                <div class="request-info">
                                    <span class="visitor-name">Maria Santos</span>
                                    <span class="exit-time">Exited: 16:45</span>
                                    <span class="visit-purpose">Family Visit</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- VEHICLE REGISTRATION MANAGEMENT -->
                <div class="security-card">
                    <h2><i class='bx bx-car'></i>Vehicle Registration Management</h2>
                    <div class="requests-container">
                        <h3>Pending Vehicle Registrations</h3>
                        <div class="vehicle-list">
                            <div class="list-item">
                                <div class="request-info">
                                    <span class="vehicle-make">Toyota</span>
                                    <span class="vehicle-model">Camry</span>
                                    <span class="plate-number">ABC123</span>
                                    <span class="owner-name">Maria Santos</span>
                                </div>
                                <div class="action-buttons">
                                    <button class="btn-approve"><i class='bx bx-check'></i> Approve</button>
                                    <button class="btn-reject"><i class='bx bx-x'></i> Reject</button>
                                </div>
                            </div>
                        </div>

                        <h3>Approved Vehicle Registrations</h3>
                        <div class="vehicle-list">
                            <div class="list-item">
                                <div class="request-info">
                                    <span class="vehicle-make">Honda</span>
                                    <span class="vehicle-model">Civic</span>
                                    <span class="plate-number">XYZ789</span>
                                    <span class="owner-name">Juan Dela Cruz</span>
                                </div>
                                <div class="action-buttons">
                                    <button class="btn-revoke"><i class='bx bx-block'></i> Revoke</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- REGISTERED VEHICLES AND SECURITY LOGS -->
            <div class="security-section">
                <!-- REGISTERED VEHICLES TABLE -->
                <div class="summary-table-container">
                    <h2><i class='bx bx-car'></i>Registered Vehicles</h2>
                    <div class="table-responsive">
                        <table class="summary-table">
                            <thead>
                                <tr>
                                    <th>Owner Name</th>
                                    <th>Vehicle Make</th>
                                    <th>Vehicle Model</th>
                                    <th>Plate Number</th>
                                    <th>Registration Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Juan Dela Cruz</td>
                                    <td>Honda</td>
                                    <td>Civic</td>
                                    <td>XYZ789</td>
                                    <td>2025-03-14</td>
                                    <td><span class="status-badge status-approved">Approved</span></td>
                                </tr>
                                <tr>
                                    <td>Maria Santos</td>
                                    <td>Toyota</td>
                                    <td>Camry</td>
                                    <td>ABC123</td>
                                    <td>2025-03-14</td>
                                    <td><span class="status-badge status-pending">Pending</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- SECURITY LOGS -->
                <div class="security-card">
                    <h2><i class='bx bx-history'></i>Security Logs</h2>
                    <div class="logs-container">
                        <div class="log-filters">
                            <select id="logType">
                                <option value="all">All Logs</option>
                                <option value="visitor">Visitor Logs</option>
                                <option value="vehicle">Vehicle Logs</option>
                                <option value="incident">Incident Reports</option>
                            </select>
                            <input type="date" id="logDate" placeholder="Select Date">
                        </div>
                        <div class="log-list">
                            <div class="log-item">
                                <div class="log-info">
                                    <span class="log-time">2025-03-14 14:30</span>
                                    <span class="log-type">Visitor Entry</span>
                                    <span class="log-details">JC Hontiveros entered through Main Gate (Approved Visitor Pass)</span>
                                </div>
                            </div>
                            <div class="log-item">
                                <div class="log-info">
                                    <span class="log-time">2025-03-14 15:45</span>
                                    <span class="log-type">Vehicle Entry</span>
                                    <span class="log-details">Honda Civic (XYZ789) entered through South Gate (Approved Registration)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <!-- MAIN -->
    </section>

    <script>
        const allSideMenu = document.querySelectorAll('#sidebar .side-menu.top li a');

        allSideMenu.forEach(item=> {
            const li = item.parentElement;

            item.addEventListener('click', function () {
                allSideMenu.forEach(i=> {
                    i.parentElement.classList.remove('active');
                })
                li.classList.add('active');
            })
        });

        // TOGGLE SIDEBAR
        const menuBar = document.querySelector('#content nav .bx.bx-menu');
        const sidebar = document.getElementById('sidebar');

        menuBar.addEventListener('click', function () {
            sidebar.classList.toggle('hide');
        })

        const searchButton = document.querySelector('#content nav form .form-input button');
        const searchButtonIcon = document.querySelector('#content nav form .form-input button .bx');
        const searchForm = document.querySelector('#content nav form');

        searchButton.addEventListener('click', function (e) {
            if(window.innerWidth < 576) {
                e.preventDefault();
                searchForm.classList.toggle('show');
                if(searchForm.classList.contains('show')) {
                    searchButtonIcon.classList.replace('bx-search', 'bx-x');
                } else {
                    searchButtonIcon.classList.replace('bx-x', 'bx-search');
                }
            }
        })

        if(window.innerWidth < 768) {
            sidebar.classList.add('hide');
        } else if(window.innerWidth > 576) {
            searchButtonIcon.classList.replace('bx-x', 'bx-search');
            searchForm.classList.remove('show');
        }

        window.addEventListener('resize', function () {
            if(this.innerWidth > 576) {
                searchButtonIcon.classList.replace('bx-x', 'bx-search');
                searchForm.classList.remove('show');
            }
        })

        // DARK MODE
        const switchMode = document.getElementById('switch-mode');

        switchMode.addEventListener('change', function () {
            if(this.checked) {
                document.body.classList.add('dark');
            } else {
                document.body.classList.remove('dark');
            }
        })
    </script>
</body>
